<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm/dist/tf-backend-wasm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgpu/dist/tf-backend-webgpu.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-tflite/dist/tf-tflite.min.js"></script>
    <script defer src="index.js"></script>
    <title>Bird Radar</title>
    <style>
        html, body {
            width: 100%;
            background-color: #222;
            font-size: 15px;
            font-family: 'Courier New', Courier, monospace;
            padding: 0;
            margin: 0;
            color: bisque;
        }
        progress {
            width: 100%;
            height: 50px;
            border-radius: 0;
            border: 1px solid;
        }
        header {
            width: 100%;
            height: 200px;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
        }
        #record {
            width: 100px;
            height: 100px;
            border: 0;
            position: absolute;
            left: calc(50% - 50px);
            bottom: 40px;
        }
        #record.start {
            background: url("data:image/svg+xml,%3Csvg width='800px' height='800px' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 3C5 1.34315 6.34315 0 8 0C9.65685 0 11 1.34315 11 3V7C11 8.65685 9.65685 10 8 10C6.34315 10 5 8.65685 5 7V3Z' fill='bisque'/%3E%3Cpath d='M9 13.9291V16H7V13.9291C3.60771 13.4439 1 10.5265 1 7V6H3V7C3 9.76142 5.23858 12 8 12C10.7614 12 13 9.76142 13 7V6H15V7C15 10.5265 12.3923 13.4439 9 13.9291Z' fill='bisque'/%3E%3C/svg%3E");
            background-size: cover;
        }
        #record.stop {
            background: url("data:image/svg+xml,%3Csvg width='800px' height='800px' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='Media / Pause_Circle'%3E%3Cpath id='Vector' d='M14 9V15M10 9V15M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z' stroke='bisque' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/g%3E%3C/svg%3E");
            background-size: cover;
        }
        #birdlist {
            display: flex;
            flex-wrap: wrap;
        }
        .bird {
            width: 100px;
            margin: 15px;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .bird img {
            border-radius: 50%;
            width: 100px;
            height: 100px;
        }
        .bird span {
            margin-top: 8px;
        }
        .counter {
            font-family: Arial, Helvetica, sans-serif;
            font-weight: bold;
            font-size: 12px;
            color: #222;
            position: absolute;
            background-color: rgb(65, 255, 160);
            height: 20px;
            padding: 0 5px;
            border-radius: 10px;
            top: 80px;
            right: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #error {
            color: rgb(224, 99, 99);
        }
        #error {
            margin: 20px;
        }

        #record-icon {
            position: absolute;
            left: 35px;
            top: 35px;
        }
        #record-icon::before {
            animation: pulse 1s infinite;
            position: absolute;
            background-color: #00FF55
        }
        #record-icon.paused-icon, #record-icon.paused-icon::before {
            border-radius: 3px;
            background-color: #FF0055;
            animation: none;
        }
        #record-icon.waiting-icon, #record-icon.waiting-icon::before {
            border-radius: 3px;
            background-color: #ffae00;
            animation: none;
        }
        #record-icon, #record-icon::before {
            content: " ";
            margin: 15px;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin: 0 auto;
            transition: all 1s;
            background-color: #00FF55;
        }
        @-webkit-keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1
            }
            100% {
                transform: scale(2.5);
                opacity: 0
            }
        }
        #record-pane {
            display: none;
        }
    </style>
</head>
<body>
    <header id="loading-pane">
        <progress></progress>
        <span>Initializing...</span>
    </header>
    <header id="record-pane">
        <div id="record-icon" class="paused-icon"></div>
        <button id="record" class="start"></button>
    </header>
    <div id="error"></div>
    <div id="birdlist"></div>
</body>
</html>